'$fs.ReadFileAsync' $test [assert]->{
	/etc/passwd $fs.ReadFileAsync 'utf-8' [err data]->{
		(err == null) assert
		(data != null) assert
	}

	/etc/passwd $fs.ReadFileAsync [err data]->{
		(err == null) assert
		(data != null) assert
	}

	/this-is-not-dir/1p29384-this-is-not-a-file $fs.ReadFileAsync [err data]->{
		(err != null) assert
		(data == null) assert
	}
}

'$fs.ReadFile' $test [assert]->{
	ret := /etc/passwd $fs.ReadFile 'utf-8'
	(ret.0 == null) assert
	(ret.1 != null) assert

	ret := /etc/passwd $fs.ReadFile
	(ret.0 == null) assert
	(ret.1 != null) assert

	ret := /this-is-not-dir/1p29384-this-is-not-a-file $fs.ReadFile
	(ret.0 != null) assert
	(ret.1 == null) assert
}

'$fs.WriteFileAsync' $test [assert]->{
	/tmp/test-write-file $fs.WriteFileAsync 'good' [err]->{
		(err == null) assert

		fileContent := /tmp/test-write-file $fs.ReadFile | .1
		(fileContent == 'good') assert
	}
	/test-write-file $fs.WriteFileAsync 'good' [err]->{
		(err != null) assert
	}
}
