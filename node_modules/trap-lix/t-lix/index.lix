#!/usr/bin/env node

'good' print
$trap print
#$global print
$trap print
'nice' print

$trap.try call []->{
#	$global.__trapList__ print
	'good' print
} [e]->{
}

'nice' print

$trap.try call []->{
	'try begin' print
	'Error' $trap.raise
	'try end' print
} [e]->{
	'Catch' print
	e print
}

$trap.try call []->{
	$trap.try call []->{
		'Inner error in try block' $trap.raise
		'!!!!!!!!!!!!!!!! impossable to run here' print
	} [e]->{
		e print
		'Outer error in catch block' $trap.raise
	}
	'!!!!!!!!!!!!!!!! impossable to run here' print
} [e]->{
	e print
}

$a call

'end' print
